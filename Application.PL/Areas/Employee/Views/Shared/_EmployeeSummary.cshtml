@* Views/Shared/_EmployeeSummary.cshtml *@
@using Application.PL.ViewModels
@{
    var vm = ViewBag.EmployeeSummary as EmployeeDashboardVM;
    var latestSalary = vm != null && vm.RecentSalaries != null && vm.RecentSalaries.Any() ? vm.RecentSalaries.First() : null;
}
<div class="summary-card p-3">
    <div class="mb-3">
        <div class="small text-muted label-hide">Current Salary</div>
        <div class="h5 summary-amount">@((latestSalary != null) ? latestSalary.Amount.ToString("C") : "$- - -")</div>
        <div class="small text-muted label-hide">Last paid: <strong>@(latestSalary != null ? latestSalary.PayDate.ToString("yyyy-MM-dd") : "-")</strong></div>
    </div>

    <div class="mb-3">
        <div class="small text-muted label-hide">Bonuses</div>
        <div class="summary-amount">@((vm != null && vm.RecentSalaries != null) ? (vm.RecentSalaries.Sum(s => 0m /* replace when bonus field exists */).ToString("C")) : "- - -")</div>
    </div>

    <div>
        <div class="small text-muted label-hide">This month deductions</div>
        <div class="summary-amount">@((vm != null) ? vm.TotalDeductions.ToString("C") : "- - -")</div>
    </div>

    <div class="mt-3 d-grid gap-2">
        <a asp-area="Employee" asp-controller="Home" asp-action="Index" class="btn btn-sm btn-outline-primary">View Dashboard</a>
        <a asp-area="Employee" asp-controller="Deductions" asp-action="Index" class="btn btn-sm btn-outline-secondary">View Deductions</a>
    </div>
</div>
